@model PagedList.IPagedList<JockeySaludApplication.Model.Titular>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

@{
    Layout = null;
}


<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />


    <link rel="shortcut icon" href="~/images/favicon.ico">
    <title>Panel de administración - Microsite Jockey Salud</title>

    <!-- Bootstrap Core CSS -->
    <link href="~/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/vendor/fontawesome/css/font-awesome.min.css" type="text/css" rel="stylesheet">
    <link href="~/vendor/animateit/animate.min.css" rel="stylesheet">

    <link rel="stylesheet" href="~/vendor/bootstrap-datepicker-master/css/bootstrap-datepicker.min.css" />

    <!-- Vendor css -->
    <link href="~/vendor/owlcarousel/owl.carousel.css" rel="stylesheet">
    <link href="~/vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- CSS base -->
    <link href="~/css/theme-base.css" rel="stylesheet">

    <!-- CSS elementos -->
    <link href="~/css/theme-elements.css" rel="stylesheet">

    <!-- Responsive classes -->
    <link href="~/css/responsive.css" rel="stylesheet">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!--[if lt IE 9]>
            <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
            <![endif]-->
    <!-- LOAD GOOGLE FONTS -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,800,700,600%7CRaleway:100,300,600,700,800" rel="stylesheet" type="text/css" />

    <!-- CSS CUSTOM STYLE -->
    <link rel="stylesheet" type="text/css" href="~/css/custom.css" media="screen" />

    <!--VENDOR SCRIPT-->
    <script src="~/vendor/jquery/jquery-1.11.2.min.js"></script>
    <script src="~/vendor/plugins-compressed.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="~/vendor/bootstrap-datepicker-master/js/bootstrap-datepicker.min.js"></script>
    <script src="~/vendor/bootstrap-datepicker-master/locales/bootstrap-datepicker.es.min.js"></script>

    <style type="text/css">
        #header, #header-wrap, #logo img, #header.header-sticky:not(.header-static) nav#mainMenu ul.main-menu, #mainMenu > ul, #header .side-panel-button {
            position: inherit;
        }
    </style>

</head>

<body class="boxed">


    <!-- WRAPPER -->
    <div class="wrapper">

        <!-- HEADER -->
        <header id="header" class="">
            <div id="header-wrap">
                <div class="container">
                    <!--LOGO-->
                    <div id="logo">
                        <a href="~/" class="logo" data-dark-logo="~/images/logo.jpg">
                            <img src="~/images/logo.jpg" alt="Jockey Salud Express">
                        </a>
                    </div>
                    <!--END: LOGO-->
                </div>
            </div>
        </header>
        <!-- END: HEADER -->
        <!-- MENSAJE AFILIATE -->
        <section class="section-fullwidth text-light no-padding">
            <div class="row">
                <div class="col-md-12 text-center" style="background-color: #00AFA2">
                    <h3>Panel de administración</h3>
                </div>
            </div>
        </section>
        <!-- END: MENSAJE AFILIATE -->
        <!--Menu-->
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" class="navbar-toggle collapsed" type="button"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="#">Panel</a> </li>
                        <li><a href="@Url.Action("CreateUsuario", "Usuario")">Crear Usuario</a> </li>
                        <li><a href="@Url.Action("Export", "Usuario")" id="lnkexportar">Exportar</a> </li>
                    </ul>
                    @*<form role="search" class="navbar-form navbar-left">
                            <div class="form-group">
                                <input type="text" placeholder="Buscar..." class="form-control">
                            </div>
                            <button class="btn btn-default" type="submit">Buscar</button>
                        </form>*@
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="@Url.Action("Logout", "Usuario")">Cerrar Sesión</a> </li>

                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </div>
            <!-- /.container-fluid -->
        </nav>

        <!--fin menu -->
        <!-- Mensaje de Bienvenida  -->

        <section class="jqmensaje">
            <hgroup>
                <h4>Bienvenido: @ViewBag.NombreUsuario</h4>
            </hgroup>

        </section>

        <!-- Fin Mensaje de Bienvenida  -->
        <!--Default Form-->
        <section class="jqform">
            <div class="container">
                <div class="row">

                    <div class="col-md-12">
                        <div class="plan">
                            <form class="form-gray-fields" method="post">
                                @Html.AntiForgeryToken()
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="panel panel-default">
                                            <div class="panel-body">

                                                <div class="col-lg-4">
                                                    <label>Numero Documento</label><input class="form-control  text-box single-line" id="numeroDocumento" name="numeroDocumento" placeholder="Numero Documento" type="text" value="@Request["numeroDocumento"]">

                                                </div>
                                                <div class="col-lg-4"><label>Fecha Inicial pago</label><input class="form-control  text-box single-line" id="txtFi" name="txtFi" placeholder="Fecha inicial pago" type="text" value="@Request["txtFi"]"></div>
                                                <div class="col-lg-4"><label>Fecha Final pago</label><input class="form-control  text-box single-line" id="txtFf" name="txtFf" placeholder="Fecha final pago" type="text" value="@Request["txtFf"]"></div>
                                                <div class="col-lg-4">
                                                    <label>Titular</label><input class="form-control  text-box single-line" id="txtTitular" name="txtTitular" placeholder="Titular" type="text" value="@Request["txtTitular"]">
                                                    <input id="hdfTitular" name="hdfTitular" type="hidden" value="@Request["hdfTitular"]" />
                                                </div>
                                                <div class="col-lg-4"><label>Estado Pago</label>@Html.DropDownList("EstadoPago", "Seleccione")</div>
                                                <div class="col-lg-4"><br /><button class="btn btn-jockeygcompra" type="submit"><i class="fa fa-plus-circle"></i>&nbsp;CONSULTAR</button></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="form-compra" style="padding:16px">
                                <h4>Reporte de afiliados:</h4>

                                <div class="row">
                                    <div class="table-responsive">

                                        <table class="table" style="white-space: nowrap;">
                                            <tr>
                                                <th>
                                                    Numero Documento
                                                </th>
                                                <th>
                                                    Apellido Paterno
                                                </th>
                                                <th>
                                                    Apellido Materno
                                                </th>
                                                <th>
                                                    Nombre
                                                </th>
                                                <th>
                                                    Fecha Nacimiento
                                                </th>
                                                <th>
                                                    Email
                                                </th>
                                                <th>
                                                    Telefono Fijo
                                                </th>
                                                <th>
                                                    Sexualidad
                                                </th>
                                                <th>
                                                    Cantidad de Beneficiarios
                                                </th>

                                                <th>
                                                    Plan
                                                </th>
                                                <th>
                                                    Direccion
                                                </th>
                                                <th>
                                                    Departamento
                                                </th>
                                                <th>
                                                    Provincia
                                                </th>
                                                <th>
                                                    Distrito
                                                </th>
                                                <th>
                                                    Fecha Pago
                                                </th>
                                                <th>
                                                    Tipo Transacción
                                                </th>
                                                <th>
                                                    Estado Transacción
                                                </th>

                                            </tr>

                                            @foreach (var item in Model)
                                            {
                                                <tr>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.NumeroDocumento)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.ApellidoPaterno)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.ApellidoMaterno)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Nombre)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.FechaNacimientoString)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Email)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.TelefonoFijo)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Sexo)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.CantidadBeneficiarios)
                                                    </td>

                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Plan.Nombre)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Direccion)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Departamento)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Provincia)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Distrito)
                                                    </td>
                                                    @{var payu = item.Payu.FirstOrDefault(); }
                                                    <td>
                                                        @Html.DisplayFor(modelItem => payu.TRANSACTION_DATE)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => payu.PAYMENT_METHOD_NAME)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => payu.RESPONSE_MESSAGE_POL)
                                                    </td>
                                                </tr>
                                            }

                                        </table>

                                    </div>
                                    @Html.PagedListPager(Model, page => Url.Action("Panel", new
                               {
                                   page,
                                   pageSize = Model.PageSize,
                                   numeroDocumento = @Request["numeroDocumento"],
                                   txtFi = @Request["txtFi"],
                                   txtFf = @Request["txtFf"],
                                   txtTitular=@Request["txtTitular"],
                                   hdfTitular=@Request["hdfTitular"],
                                   EstadoPagohdf= ViewBag.EstadoPagohdf
                               }))
                                    Pagina @Model.FirstItemOnPage a @Model.LastItemOnPage de @Model.TotalItemCount Titulares
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!--END: Default Form-->
        <!-- FOOTER -->
        <footer class="background-jqgreen text-blanco" id="footer">
            <div class="copyright-content">
                <div class="container">

                    <div class="row">
                        <div class="col-md-4">
                            <div class="copyright-text text-left">
                                Jockey Salud Copyright 2016 - Todos los derechos reservados.<br />
                                <a href="http://www.clic.com.pe" title="Desarrollo y diseño web" target="_blank">Desarrollado por CLIC Perú</a>
                            </div>
                        </div>

                        <div class="col-md-5 col-md-offset-3">
                            <div class="row text-right">
                                <div class="social-icons social-icons-border">
                                    <ul>
                                        <li class="social-facebook"><a href="http://www.facebook.com/JockeySalud" target="_blank"><i class="fa fa-facebook"></i></a></li>
                                        <li class="social-twitter"><a href="http://www.twitter.com/JockeySalud" target="_blank"><i class="fa fa-twitter"></i></a></li>
                                        <li class="social-wordpress"><a href="http://jockeysalud.wordpress.com/" target="_blank"><i class="fa fa-wordpress"></i></a></li>
                                    </ul>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </footer>
        <!-- END: FOOTER -->

    </div>
    <!-- END: WRAPPER -->
    <!-- Componentes y Configuración -->
    <script src="~/js/theme-functions.js"></script>

    <!-- Custom js file -->
    <script src="~/js/custom.js"></script>
    <script src="~/js/App/Panel.js"></script>

    <script>
        var urlexport='@Url.Action("Export", "Usuario")';
        $(document).ready(page.init);

    </script>

</body>

</html>


@*<!DOCTYPE html>

    <html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <title>Panel</title>
    </head>
    <body>
        <p>
            @Html.ActionLink("Create New", "CreateUsuario")
        </p>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.CIA)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TipoBase)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NumeroAsegurado)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NumeroDocumento)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ApellidoPaterno)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ApellidoMaterno)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Nombre)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FechaNacimiento)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TelefonoFijo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TelefonoCelular)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Direccion)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Sexualidad)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FechaInicioVenta)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FechaFinVenta)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.EsBeneficiario)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Prima)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MedioPago)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NumeroTarjeta)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FechaVencimientoTarjeta)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CantidadBeneficiarios)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TieneTransaccion)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Plan.Nombre)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Ubigeo.Nombre)
                </th>
                <th></th>
            </tr>

        @foreach (var item in Model) {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.CIA)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TipoBase)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NumeroAsegurado)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NumeroDocumento)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ApellidoPaterno)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ApellidoMaterno)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Nombre)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FechaNacimiento)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TelefonoFijo)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TelefonoCelular)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Direccion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Sexualidad)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FechaInicioVenta)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FechaFinVenta)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EsBeneficiario)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Prima)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MedioPago)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NumeroTarjeta)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FechaVencimientoTarjeta)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CantidadBeneficiarios)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TieneTransaccion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Plan.Nombre)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ubigeo.Nombre)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id=item.Pk }) |
                    @Html.ActionLink("Details", "Details", new { id=item.Pk }) |
                    @Html.ActionLink("Delete", "Delete", new { id=item.Pk })
                </td>
            </tr>
        }

        </table>
    </body>
    </html>*@
